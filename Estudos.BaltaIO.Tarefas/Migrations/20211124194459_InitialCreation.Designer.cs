// <auto-generated />
using System;
using Estudos.BaltaIO.Tarefas.Data;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

#nullable disable

namespace Estudos.BaltaIO.Tarefas.Migrations
{
  [DbContext(typeof(DataContext))]
  [Migration("20211124194459_InitialCreation")]
  partial class InitialCreation
  {
    protected override void BuildTargetModel(ModelBuilder modelBuilder)
    {
#pragma warning disable 612, 618
      modelBuilder
          .HasAnnotation("ProductVersion", "6.0.0")
          .HasAnnotation("Relational:MaxIdentifierLength", 64);

      modelBuilder.Entity("Estudos.BaltaIO.Tarefas.Domain.Entities.Book", b =>
          {
            b.Property<Guid>("Id")
                      .ValueGeneratedOnAdd()
                      .HasColumnType("char(36)");

            b.Property<string>("Author")
                      .IsRequired()
                      .HasColumnType("varchar(100)")
                      .HasColumnName("author");

            b.Property<DateTime>("CreatedAt")
                      .HasColumnType("datetime(6)");

            b.Property<bool>("Deleted")
                      .HasColumnType("tinyint(1)");

            b.Property<DateTime?>("DeletedAt")
                      .HasColumnType("datetime(6)");

            b.Property<string>("ISBN")
                      .IsRequired()
                      .HasColumnType("varchar(100)")
                      .HasColumnName("isbn");

            b.Property<string>("Language")
                      .IsRequired()
                      .HasColumnType("varchar(100)")
                      .HasColumnName("language");

            b.Property<decimal>("Pages")
                      .HasColumnType("numeric(4,0)")
                      .HasColumnName("pages");

            b.Property<Guid?>("PublisherId")
                      .IsRequired()
                      .HasColumnType("char(36)")
                      .HasColumnName("publisher_id");

            b.Property<string>("Title")
                      .IsRequired()
                      .HasColumnType("varchar(100)")
                      .HasColumnName("title");

            b.Property<DateTime?>("UpdatedAt")
                      .HasColumnType("datetime(6)");

            b.HasKey("Id");

            b.HasIndex("ISBN")
                      .IsUnique();

            b.HasIndex("PublisherId");

            b.ToTable("reg_books", (string)null);
          });

      modelBuilder.Entity("Estudos.BaltaIO.Tarefas.Domain.Entities.Publisher", b =>
          {
            b.Property<Guid>("Id")
                      .ValueGeneratedOnAdd()
                      .HasColumnType("char(36)");

            b.Property<DateTime>("CreatedAt")
                      .HasColumnType("datetime(6)");

            b.Property<bool>("Deleted")
                      .HasColumnType("tinyint(1)");

            b.Property<DateTime?>("DeletedAt")
                      .HasColumnType("datetime(6)");

            b.Property<string>("Name")
                      .IsRequired()
                      .HasColumnType("varchar(100)")
                      .HasColumnName("name");

            b.Property<DateTime?>("UpdatedAt")
                      .HasColumnType("datetime(6)");

            b.HasKey("Id");

            b.ToTable("reg_publishers", (string)null);
          });

      modelBuilder.Entity("Estudos.BaltaIO.Tarefas.Domain.Entities.Book", b =>
          {
            b.HasOne("Estudos.BaltaIO.Tarefas.Domain.Entities.Publisher", "Publisher")
                      .WithMany("Books")
                      .HasForeignKey("PublisherId")
                      .OnDelete(DeleteBehavior.Cascade)
                      .IsRequired();

            b.Navigation("Publisher");
          });

      modelBuilder.Entity("Estudos.BaltaIO.Tarefas.Domain.Entities.Publisher", b =>
          {
            b.Navigation("Books");
          });
#pragma warning restore 612, 618
    }
  }
}
